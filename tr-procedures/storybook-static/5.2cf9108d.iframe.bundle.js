/*! For license information please see 5.2cf9108d.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_trazit_tr_procedures=self.webpackChunk_trazit_tr_procedures||[]).push([[5],{"./node_modules/@spectrum-web-components/overlay/src/overlay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Overlay:()=>Overlay});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),lit_element=__webpack_require__("./node_modules/lit-element/lit-element.js");const observedForElements=new Set;new MutationObserver((()=>{const dir="rtl"===document.documentElement.dir?document.documentElement.dir:"ltr";observedForElements.forEach((el=>{el.setAttribute("dir",dir)}))})).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});class SpectrumElement extends(function SpectrumMixin(constructor){class SlotTextObservingElement extends constructor{constructor(){super(...arguments),this.dir="ltr"}get isLTR(){return"ltr"===this.dir}hasVisibleFocusInTree(){const activeElement=this.getRootNode().activeElement;if(!activeElement)return!1;try{return activeElement.matches(":focus-visible")||activeElement.matches(".focus-visible")}catch(error){return activeElement.matches(".focus-visible")}}connectedCallback(){if(!this.hasAttribute("dir")){let dirParent=this.assignedSlot||this.parentNode;for(;dirParent!==document.documentElement&&(void 0===(el=dirParent).startManagingContentDirection&&"SP-THEME"!==el.tagName);)dirParent=dirParent.assignedSlot||dirParent.parentNode||dirParent.host;if(this.dir="rtl"===dirParent.dir?dirParent.dir:this.dir||"ltr",dirParent===document.documentElement)observedForElements.add(this);else{const{localName}=dirParent;localName.search("-")>-1&&!customElements.get(localName)?customElements.whenDefined(localName).then((()=>{dirParent.startManagingContentDirection(this)})):dirParent.startManagingContentDirection(this)}this._dirParent=dirParent}var el;super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._dirParent&&(this._dirParent===document.documentElement?observedForElements.delete(this):this._dirParent.stopManagingContentDirection(this),this.removeAttribute("dir"))}}return(0,tslib_es6.Cg)([(0,lit_element.MZ)({reflect:!0})],SlotTextObservingElement.prototype,"dir",void 0),SlotTextObservingElement}(lit_element.WF)){}const directives=new WeakMap,isDirective=o=>"function"==typeof o&&directives.has(o),isCEPolyfill="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,noChange={},nothing={},template_marker=`{{lit-${String(Math.random()).slice(2)}}}`,nodeMarker=`\x3c!--${template_marker}--\x3e`;new RegExp(`${template_marker}|${nodeMarker}`);const isTemplatePartActive=part=>-1!==part.index,createMarker=()=>document.createComment(""),lastAttributeNameRegex=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class TemplateInstance{constructor(template,processor,options){this.__parts=[],this.template=template,this.processor=processor,this.options=options}update(values){let i=0;for(const part of this.__parts)void 0!==part&&part.setValue(values[i]),i++;for(const part of this.__parts)void 0!==part&&part.commit()}_clone(){const fragment=isCEPolyfill?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),stack=[],parts=this.template.parts,walker=document.createTreeWalker(fragment,133,null,!1);let part,partIndex=0,nodeIndex=0,node=walker.nextNode();for(;partIndex<parts.length;)if(part=parts[partIndex],isTemplatePartActive(part)){for(;nodeIndex<part.index;)nodeIndex++,"TEMPLATE"===node.nodeName&&(stack.push(node),walker.currentNode=node.content),null===(node=walker.nextNode())&&(walker.currentNode=stack.pop(),node=walker.nextNode());if("node"===part.type){const part=this.processor.handleTextExpression(this.options);part.insertAfterNode(node.previousSibling),this.__parts.push(part)}else this.__parts.push(...this.processor.handleAttributeExpressions(node,part.name,part.strings,this.options));partIndex++}else this.__parts.push(void 0),partIndex++;return isCEPolyfill&&(document.adoptNode(fragment),customElements.upgrade(fragment)),fragment}}const policy=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:s=>s}),commentMarker=` ${template_marker} `;class template_result_TemplateResult{constructor(strings,values,type,processor){this.strings=strings,this.values=values,this.type=type,this.processor=processor}getHTML(){const l=this.strings.length-1;let html="",isCommentBinding=!1;for(let i=0;i<l;i++){const s=this.strings[i],commentOpen=s.lastIndexOf("\x3c!--");isCommentBinding=(commentOpen>-1||isCommentBinding)&&-1===s.indexOf("--\x3e",commentOpen+1);const attributeMatch=lastAttributeNameRegex.exec(s);html+=null===attributeMatch?s+(isCommentBinding?commentMarker:nodeMarker):s.substr(0,attributeMatch.index)+attributeMatch[1]+attributeMatch[2]+"$lit$"+attributeMatch[3]+template_marker}return html+=this.strings[l],html}getTemplateElement(){const template=document.createElement("template");let value=this.getHTML();return void 0!==policy&&(value=policy.createHTML(value)),template.innerHTML=value,template}}const isPrimitive=value=>null===value||!("object"==typeof value||"function"==typeof value),isIterable=value=>Array.isArray(value)||!(!value||!value[Symbol.iterator]);class AttributeCommitter{constructor(element,name,strings){this.dirty=!0,this.element=element,this.name=name,this.strings=strings,this.parts=[];for(let i=0;i<strings.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new AttributePart(this)}_getValue(){const strings=this.strings,l=strings.length-1,parts=this.parts;if(1===l&&""===strings[0]&&""===strings[1]){const v=parts[0].value;if("symbol"==typeof v)return String(v);if("string"==typeof v||!isIterable(v))return v}let text="";for(let i=0;i<l;i++){text+=strings[i];const part=parts[i];if(void 0!==part){const v=part.value;if(isPrimitive(v)||!isIterable(v))text+="string"==typeof v?v:String(v);else for(const t of v)text+="string"==typeof t?t:String(t)}}return text+=strings[l],text}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class AttributePart{constructor(committer){this.value=void 0,this.committer=committer}setValue(value){value===noChange||isPrimitive(value)&&value===this.value||(this.value=value,isDirective(value)||(this.committer.dirty=!0))}commit(){for(;isDirective(this.value);){const directive=this.value;this.value=noChange,directive(this)}this.value!==noChange&&this.committer.commit()}}class parts_NodePart{constructor(options){this.value=void 0,this.__pendingValue=void 0,this.options=options}appendInto(container){this.startNode=container.appendChild(createMarker()),this.endNode=container.appendChild(createMarker())}insertAfterNode(ref){this.startNode=ref,this.endNode=ref.nextSibling}appendIntoPart(part){part.__insert(this.startNode=createMarker()),part.__insert(this.endNode=createMarker())}insertAfterPart(ref){ref.__insert(this.startNode=createMarker()),this.endNode=ref.endNode,ref.endNode=this.startNode}setValue(value){this.__pendingValue=value}commit(){if(null===this.startNode.parentNode)return;for(;isDirective(this.__pendingValue);){const directive=this.__pendingValue;this.__pendingValue=noChange,directive(this)}const value=this.__pendingValue;value!==noChange&&(isPrimitive(value)?value!==this.value&&this.__commitText(value):value instanceof template_result_TemplateResult?this.__commitTemplateResult(value):value instanceof Node?this.__commitNode(value):isIterable(value)?this.__commitIterable(value):value===nothing?(this.value=nothing,this.clear()):this.__commitText(value))}__insert(node){this.endNode.parentNode.insertBefore(node,this.endNode)}__commitNode(value){this.value!==value&&(this.clear(),this.__insert(value),this.value=value)}__commitText(value){const node=this.startNode.nextSibling,valueAsString="string"==typeof(value=null==value?"":value)?value:String(value);node===this.endNode.previousSibling&&3===node.nodeType?node.data=valueAsString:this.__commitNode(document.createTextNode(valueAsString)),this.value=value}__commitTemplateResult(value){const template=this.options.templateFactory(value);if(this.value instanceof TemplateInstance&&this.value.template===template)this.value.update(value.values);else{const instance=new TemplateInstance(template,value.processor,this.options),fragment=instance._clone();instance.update(value.values),this.__commitNode(fragment),this.value=instance}}__commitIterable(value){Array.isArray(this.value)||(this.value=[],this.clear());const itemParts=this.value;let itemPart,partIndex=0;for(const item of value)itemPart=itemParts[partIndex],void 0===itemPart&&(itemPart=new parts_NodePart(this.options),itemParts.push(itemPart),0===partIndex?itemPart.appendIntoPart(this):itemPart.insertAfterPart(itemParts[partIndex-1])),itemPart.setValue(item),itemPart.commit(),partIndex++;partIndex<itemParts.length&&(itemParts.length=partIndex,this.clear(itemPart&&itemPart.endNode))}clear(startNode=this.startNode){((container,start,end=null)=>{for(;start!==end;){const n=start.nextSibling;container.removeChild(start),start=n}})(this.startNode.parentNode,startNode.nextSibling,this.endNode)}}class BooleanAttributePart{constructor(element,name,strings){if(this.value=void 0,this.__pendingValue=void 0,2!==strings.length||""!==strings[0]||""!==strings[1])throw new Error("Boolean attributes can only contain a single expression");this.element=element,this.name=name,this.strings=strings}setValue(value){this.__pendingValue=value}commit(){for(;isDirective(this.__pendingValue);){const directive=this.__pendingValue;this.__pendingValue=noChange,directive(this)}if(this.__pendingValue===noChange)return;const value=!!this.__pendingValue;this.value!==value&&(value?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=value),this.__pendingValue=noChange}}class PropertyCommitter extends AttributeCommitter{constructor(element,name,strings){super(element,name,strings),this.single=2===strings.length&&""===strings[0]&&""===strings[1]}_createPart(){return new PropertyPart(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class PropertyPart extends AttributePart{}let eventOptionsSupported=!1;(()=>{try{const options={get capture(){return eventOptionsSupported=!0,!1}};window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch(_e){}})();class EventPart{constructor(element,eventName,eventContext){this.value=void 0,this.__pendingValue=void 0,this.element=element,this.eventName=eventName,this.eventContext=eventContext,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(value){this.__pendingValue=value}commit(){for(;isDirective(this.__pendingValue);){const directive=this.__pendingValue;this.__pendingValue=noChange,directive(this)}if(this.__pendingValue===noChange)return;const newListener=this.__pendingValue,oldListener=this.value,shouldRemoveListener=null==newListener||null!=oldListener&&(newListener.capture!==oldListener.capture||newListener.once!==oldListener.once||newListener.passive!==oldListener.passive),shouldAddListener=null!=newListener&&(null==oldListener||shouldRemoveListener);shouldRemoveListener&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),shouldAddListener&&(this.__options=getOptions(newListener),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=newListener,this.__pendingValue=noChange}handleEvent(event){"function"==typeof this.value?this.value.call(this.eventContext||this.element,event):this.value.handleEvent(event)}}const getOptions=o=>o&&(eventOptionsSupported?{capture:o.capture,passive:o.passive,once:o.once}:o.capture);new class DefaultTemplateProcessor{handleAttributeExpressions(element,name,strings,options){const prefix=name[0];if("."===prefix){return new PropertyCommitter(element,name.slice(1),strings).parts}if("@"===prefix)return[new EventPart(element,name.slice(1),options.eventContext)];if("?"===prefix)return[new BooleanAttributePart(element,name.slice(1),strings)];return new AttributeCommitter(element,name,strings).parts}handleTextExpression(options){return new parts_NodePart(options)}};new Map,new WeakMap;"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const previousValues=new WeakMap,ifDefined=(f=value=>part=>{const previousValue=previousValues.get(part);if(void 0===value&&part instanceof AttributePart){if(void 0!==previousValue||!previousValues.has(part)){const name=part.committer.name;part.committer.element.removeAttribute(name)}}else value!==previousValue&&part.setValue(value);previousValues.set(part,value)},(...args)=>{const d=f(...args);return directives.set(d,!0),d});var f;const active_overlay_css=lit_element.AH`
@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:100%;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:100%;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:0;pointer-events:none;position:absolute;top:0;z-index:1000}:host(:focus){outline:none}#contents,sp-theme{height:100%}#contents{animation-duration:var(--spectrum-global-animation-duration-200,.16s);animation-timing-function:var(
--spectrum-global-animation-ease-out,ease-out
);display:inline-block;opacity:100%;pointer-events:none;visibility:visible}:host([data-popper-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75))}:host([data-popper-placement*=right]) #contents{--sp-overlay-from:translateX(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(-1*var(--spectrum-global-dimension-size-75)))}:host([data-popper-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75))}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}
`;function getBasePlacement(placement){return placement.split("-")[0]}function getWindow(node){if(null==node)return window;if("[object Window]"!==node.toString()){var ownerDocument=node.ownerDocument;return ownerDocument&&ownerDocument.defaultView||window}return node}function isElement(node){return node instanceof getWindow(node).Element||node instanceof Element}function isHTMLElement(node){return node instanceof getWindow(node).HTMLElement||node instanceof HTMLElement}function isShadowRoot(node){return"undefined"!=typeof ShadowRoot&&(node instanceof getWindow(node).ShadowRoot||node instanceof ShadowRoot)}var math_max=Math.max,math_min=Math.min,round=Math.round;function getUAString(){var uaData=navigator.userAgentData;return null!=uaData&&uaData.brands&&Array.isArray(uaData.brands)?uaData.brands.map((function(item){return item.brand+"/"+item.version})).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(element,includeScale,isFixedStrategy){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);var clientRect=element.getBoundingClientRect(),scaleX=1,scaleY=1;includeScale&&isHTMLElement(element)&&(scaleX=element.offsetWidth>0&&round(clientRect.width)/element.offsetWidth||1,scaleY=element.offsetHeight>0&&round(clientRect.height)/element.offsetHeight||1);var visualViewport=(isElement(element)?getWindow(element):window).visualViewport,addVisualOffsets=!isLayoutViewport()&&isFixedStrategy,x=(clientRect.left+(addVisualOffsets&&visualViewport?visualViewport.offsetLeft:0))/scaleX,y=(clientRect.top+(addVisualOffsets&&visualViewport?visualViewport.offsetTop:0))/scaleY,width=clientRect.width/scaleX,height=clientRect.height/scaleY;return{width,height,top:y,right:x+width,bottom:y+height,left:x,x,y}}function getLayoutRect(element){var clientRect=getBoundingClientRect(element),width=element.offsetWidth,height=element.offsetHeight;return Math.abs(clientRect.width-width)<=1&&(width=clientRect.width),Math.abs(clientRect.height-height)<=1&&(height=clientRect.height),{x:element.offsetLeft,y:element.offsetTop,width,height}}function contains(parent,child){var rootNode=child.getRootNode&&child.getRootNode();if(parent.contains(child))return!0;if(rootNode&&isShadowRoot(rootNode)){var next=child;do{if(next&&parent.isSameNode(next))return!0;next=next.parentNode||next.host}while(next)}return!1}function getNodeName(element){return element?(element.nodeName||"").toLowerCase():null}function getComputedStyle_getComputedStyle(element){return getWindow(element).getComputedStyle(element)}function isTableElement(element){return["table","td","th"].indexOf(getNodeName(element))>=0}function getDocumentElement(element){return((isElement(element)?element.ownerDocument:element.document)||window.document).documentElement}function getParentNode(element){return"html"===getNodeName(element)?element:element.assignedSlot||element.parentNode||(isShadowRoot(element)?element.host:null)||getDocumentElement(element)}function getTrueOffsetParent(element){return isHTMLElement(element)&&"fixed"!==getComputedStyle_getComputedStyle(element).position?element.offsetParent:null}function getOffsetParent(element){for(var window=getWindow(element),offsetParent=getTrueOffsetParent(element);offsetParent&&isTableElement(offsetParent)&&"static"===getComputedStyle_getComputedStyle(offsetParent).position;)offsetParent=getTrueOffsetParent(offsetParent);return offsetParent&&("html"===getNodeName(offsetParent)||"body"===getNodeName(offsetParent)&&"static"===getComputedStyle_getComputedStyle(offsetParent).position)?window:offsetParent||function getContainingBlock(element){var isFirefox=/firefox/i.test(getUAString());if(/Trident/i.test(getUAString())&&isHTMLElement(element)&&"fixed"===getComputedStyle_getComputedStyle(element).position)return null;var currentNode=getParentNode(element);for(isShadowRoot(currentNode)&&(currentNode=currentNode.host);isHTMLElement(currentNode)&&["html","body"].indexOf(getNodeName(currentNode))<0;){var css=getComputedStyle_getComputedStyle(currentNode);if("none"!==css.transform||"none"!==css.perspective||"paint"===css.contain||-1!==["transform","perspective"].indexOf(css.willChange)||isFirefox&&"filter"===css.willChange||isFirefox&&css.filter&&"none"!==css.filter)return currentNode;currentNode=currentNode.parentNode}return null}(element)||window}function getMainAxisFromPlacement(placement){return["top","bottom"].indexOf(placement)>=0?"x":"y"}function within(min,value,max){return math_max(min,math_min(value,max))}function mergePaddingObject(paddingObject){return Object.assign({},{top:0,right:0,bottom:0,left:0},paddingObject)}function expandToHashMap(value,keys){return keys.reduce((function(hashMap,key){return hashMap[key]=value,hashMap}),{})}var enums_top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[enums_top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce((function(acc,placement){return acc.concat([placement+"-"+start,placement+"-"+end])}),[]),enums_placements=[].concat(basePlacements,[auto]).reduce((function(acc,placement){return acc.concat([placement,placement+"-"+start,placement+"-"+end])}),[]),modifierPhases=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const modifiers_arrow={name:"arrow",enabled:!0,phase:"main",fn:function arrow(_ref){var _state$modifiersData$,state=_ref.state,name=_ref.name,options=_ref.options,arrowElement=state.elements.arrow,popperOffsets=state.modifiersData.popperOffsets,basePlacement=getBasePlacement(state.placement),axis=getMainAxisFromPlacement(basePlacement),len=[left,right].indexOf(basePlacement)>=0?"height":"width";if(arrowElement&&popperOffsets){var paddingObject=function toPaddingObject(padding,state){return mergePaddingObject("number"!=typeof(padding="function"==typeof padding?padding(Object.assign({},state.rects,{placement:state.placement})):padding)?padding:expandToHashMap(padding,basePlacements))}(options.padding,state),arrowRect=getLayoutRect(arrowElement),minProp="y"===axis?enums_top:left,maxProp="y"===axis?bottom:right,endDiff=state.rects.reference[len]+state.rects.reference[axis]-popperOffsets[axis]-state.rects.popper[len],startDiff=popperOffsets[axis]-state.rects.reference[axis],arrowOffsetParent=getOffsetParent(arrowElement),clientSize=arrowOffsetParent?"y"===axis?arrowOffsetParent.clientHeight||0:arrowOffsetParent.clientWidth||0:0,centerToReference=endDiff/2-startDiff/2,min=paddingObject[minProp],max=clientSize-arrowRect[len]-paddingObject[maxProp],center=clientSize/2-arrowRect[len]/2+centerToReference,offset=within(min,center,max),axisProp=axis;state.modifiersData[name]=((_state$modifiersData$={})[axisProp]=offset,_state$modifiersData$.centerOffset=offset-center,_state$modifiersData$)}},effect:function effect(_ref2){var state=_ref2.state,_options$element=_ref2.options.element,arrowElement=void 0===_options$element?"[data-popper-arrow]":_options$element;null!=arrowElement&&("string"!=typeof arrowElement||(arrowElement=state.elements.popper.querySelector(arrowElement)))&&contains(state.elements.popper,arrowElement)&&(state.elements.arrow=arrowElement)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var hash={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(placement){return placement.replace(/left|right|bottom|top/g,(function(matched){return hash[matched]}))}var getOppositeVariationPlacement_hash={start:"end",end:"start"};function getOppositeVariationPlacement(placement){return placement.replace(/start|end/g,(function(matched){return getOppositeVariationPlacement_hash[matched]}))}function getWindowScroll(node){var win=getWindow(node);return{scrollLeft:win.pageXOffset,scrollTop:win.pageYOffset}}function getWindowScrollBarX(element){return getBoundingClientRect(getDocumentElement(element)).left+getWindowScroll(element).scrollLeft}function isScrollParent(element){var _getComputedStyle=getComputedStyle_getComputedStyle(element),overflow=_getComputedStyle.overflow,overflowX=_getComputedStyle.overflowX,overflowY=_getComputedStyle.overflowY;return/auto|scroll|overlay|hidden/.test(overflow+overflowY+overflowX)}function getScrollParent(node){return["html","body","#document"].indexOf(getNodeName(node))>=0?node.ownerDocument.body:isHTMLElement(node)&&isScrollParent(node)?node:getScrollParent(getParentNode(node))}function listScrollParents(element,list){var _element$ownerDocumen;void 0===list&&(list=[]);var scrollParent=getScrollParent(element),isBody=scrollParent===(null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body),win=getWindow(scrollParent),target=isBody?[win].concat(win.visualViewport||[],isScrollParent(scrollParent)?scrollParent:[]):scrollParent,updatedList=list.concat(target);return isBody?updatedList:updatedList.concat(listScrollParents(getParentNode(target)))}function rectToClientRect(rect){return Object.assign({},rect,{left:rect.x,top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height})}function getClientRectFromMixedType(element,clippingParent,strategy){return clippingParent===viewport?rectToClientRect(function getViewportRect(element,strategy){var win=getWindow(element),html=getDocumentElement(element),visualViewport=win.visualViewport,width=html.clientWidth,height=html.clientHeight,x=0,y=0;if(visualViewport){width=visualViewport.width,height=visualViewport.height;var layoutViewport=isLayoutViewport();(layoutViewport||!layoutViewport&&"fixed"===strategy)&&(x=visualViewport.offsetLeft,y=visualViewport.offsetTop)}return{width,height,x:x+getWindowScrollBarX(element),y}}(element,strategy)):isElement(clippingParent)?function getInnerBoundingClientRect(element,strategy){var rect=getBoundingClientRect(element,!1,"fixed"===strategy);return rect.top=rect.top+element.clientTop,rect.left=rect.left+element.clientLeft,rect.bottom=rect.top+element.clientHeight,rect.right=rect.left+element.clientWidth,rect.width=element.clientWidth,rect.height=element.clientHeight,rect.x=rect.left,rect.y=rect.top,rect}(clippingParent,strategy):rectToClientRect(function getDocumentRect(element){var _element$ownerDocumen,html=getDocumentElement(element),winScroll=getWindowScroll(element),body=null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body,width=math_max(html.scrollWidth,html.clientWidth,body?body.scrollWidth:0,body?body.clientWidth:0),height=math_max(html.scrollHeight,html.clientHeight,body?body.scrollHeight:0,body?body.clientHeight:0),x=-winScroll.scrollLeft+getWindowScrollBarX(element),y=-winScroll.scrollTop;return"rtl"===getComputedStyle_getComputedStyle(body||html).direction&&(x+=math_max(html.clientWidth,body?body.clientWidth:0)-width),{width,height,x,y}}(getDocumentElement(element)))}function getClippingRect(element,boundary,rootBoundary,strategy){var mainClippingParents="clippingParents"===boundary?function getClippingParents(element){var clippingParents=listScrollParents(getParentNode(element)),clipperElement=["absolute","fixed"].indexOf(getComputedStyle_getComputedStyle(element).position)>=0&&isHTMLElement(element)?getOffsetParent(element):element;return isElement(clipperElement)?clippingParents.filter((function(clippingParent){return isElement(clippingParent)&&contains(clippingParent,clipperElement)&&"body"!==getNodeName(clippingParent)})):[]}(element):[].concat(boundary),clippingParents=[].concat(mainClippingParents,[rootBoundary]),firstClippingParent=clippingParents[0],clippingRect=clippingParents.reduce((function(accRect,clippingParent){var rect=getClientRectFromMixedType(element,clippingParent,strategy);return accRect.top=math_max(rect.top,accRect.top),accRect.right=math_min(rect.right,accRect.right),accRect.bottom=math_min(rect.bottom,accRect.bottom),accRect.left=math_max(rect.left,accRect.left),accRect}),getClientRectFromMixedType(element,firstClippingParent,strategy));return clippingRect.width=clippingRect.right-clippingRect.left,clippingRect.height=clippingRect.bottom-clippingRect.top,clippingRect.x=clippingRect.left,clippingRect.y=clippingRect.top,clippingRect}function getVariation(placement){return placement.split("-")[1]}function computeOffsets(_ref){var offsets,reference=_ref.reference,element=_ref.element,placement=_ref.placement,basePlacement=placement?getBasePlacement(placement):null,variation=placement?getVariation(placement):null,commonX=reference.x+reference.width/2-element.width/2,commonY=reference.y+reference.height/2-element.height/2;switch(basePlacement){case enums_top:offsets={x:commonX,y:reference.y-element.height};break;case bottom:offsets={x:commonX,y:reference.y+reference.height};break;case right:offsets={x:reference.x+reference.width,y:commonY};break;case left:offsets={x:reference.x-element.width,y:commonY};break;default:offsets={x:reference.x,y:reference.y}}var mainAxis=basePlacement?getMainAxisFromPlacement(basePlacement):null;if(null!=mainAxis){var len="y"===mainAxis?"height":"width";switch(variation){case start:offsets[mainAxis]=offsets[mainAxis]-(reference[len]/2-element[len]/2);break;case end:offsets[mainAxis]=offsets[mainAxis]+(reference[len]/2-element[len]/2)}}return offsets}function detectOverflow(state,options){void 0===options&&(options={});var _options=options,_options$placement=_options.placement,placement=void 0===_options$placement?state.placement:_options$placement,_options$strategy=_options.strategy,strategy=void 0===_options$strategy?state.strategy:_options$strategy,_options$boundary=_options.boundary,boundary=void 0===_options$boundary?clippingParents:_options$boundary,_options$rootBoundary=_options.rootBoundary,rootBoundary=void 0===_options$rootBoundary?viewport:_options$rootBoundary,_options$elementConte=_options.elementContext,elementContext=void 0===_options$elementConte?popper:_options$elementConte,_options$altBoundary=_options.altBoundary,altBoundary=void 0!==_options$altBoundary&&_options$altBoundary,_options$padding=_options.padding,padding=void 0===_options$padding?0:_options$padding,paddingObject=mergePaddingObject("number"!=typeof padding?padding:expandToHashMap(padding,basePlacements)),altContext=elementContext===popper?reference:popper,popperRect=state.rects.popper,element=state.elements[altBoundary?altContext:elementContext],clippingClientRect=getClippingRect(isElement(element)?element:element.contextElement||getDocumentElement(state.elements.popper),boundary,rootBoundary,strategy),referenceClientRect=getBoundingClientRect(state.elements.reference),popperOffsets=computeOffsets({reference:referenceClientRect,element:popperRect,strategy:"absolute",placement}),popperClientRect=rectToClientRect(Object.assign({},popperRect,popperOffsets)),elementClientRect=elementContext===popper?popperClientRect:referenceClientRect,overflowOffsets={top:clippingClientRect.top-elementClientRect.top+paddingObject.top,bottom:elementClientRect.bottom-clippingClientRect.bottom+paddingObject.bottom,left:clippingClientRect.left-elementClientRect.left+paddingObject.left,right:elementClientRect.right-clippingClientRect.right+paddingObject.right},offsetData=state.modifiersData.offset;if(elementContext===popper&&offsetData){var offset=offsetData[placement];Object.keys(overflowOffsets).forEach((function(key){var multiply=[right,bottom].indexOf(key)>=0?1:-1,axis=[enums_top,bottom].indexOf(key)>=0?"y":"x";overflowOffsets[key]+=offset[axis]*multiply}))}return overflowOffsets}const modifiers_flip={name:"flip",enabled:!0,phase:"main",fn:function flip(_ref){var state=_ref.state,options=_ref.options,name=_ref.name;if(!state.modifiersData[name]._skip){for(var _options$mainAxis=options.mainAxis,checkMainAxis=void 0===_options$mainAxis||_options$mainAxis,_options$altAxis=options.altAxis,checkAltAxis=void 0===_options$altAxis||_options$altAxis,specifiedFallbackPlacements=options.fallbackPlacements,padding=options.padding,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,_options$flipVariatio=options.flipVariations,flipVariations=void 0===_options$flipVariatio||_options$flipVariatio,allowedAutoPlacements=options.allowedAutoPlacements,preferredPlacement=state.options.placement,basePlacement=getBasePlacement(preferredPlacement),fallbackPlacements=specifiedFallbackPlacements||(basePlacement===preferredPlacement||!flipVariations?[getOppositePlacement(preferredPlacement)]:function getExpandedFallbackPlacements(placement){if(getBasePlacement(placement)===auto)return[];var oppositePlacement=getOppositePlacement(placement);return[getOppositeVariationPlacement(placement),oppositePlacement,getOppositeVariationPlacement(oppositePlacement)]}(preferredPlacement)),placements=[preferredPlacement].concat(fallbackPlacements).reduce((function(acc,placement){return acc.concat(getBasePlacement(placement)===auto?function computeAutoPlacement(state,options){void 0===options&&(options={});var _options=options,placement=_options.placement,boundary=_options.boundary,rootBoundary=_options.rootBoundary,padding=_options.padding,flipVariations=_options.flipVariations,_options$allowedAutoP=_options.allowedAutoPlacements,allowedAutoPlacements=void 0===_options$allowedAutoP?enums_placements:_options$allowedAutoP,variation=getVariation(placement),placements=variation?flipVariations?variationPlacements:variationPlacements.filter((function(placement){return getVariation(placement)===variation})):basePlacements,allowedPlacements=placements.filter((function(placement){return allowedAutoPlacements.indexOf(placement)>=0}));0===allowedPlacements.length&&(allowedPlacements=placements);var overflows=allowedPlacements.reduce((function(acc,placement){return acc[placement]=detectOverflow(state,{placement,boundary,rootBoundary,padding})[getBasePlacement(placement)],acc}),{});return Object.keys(overflows).sort((function(a,b){return overflows[a]-overflows[b]}))}(state,{placement,boundary,rootBoundary,padding,flipVariations,allowedAutoPlacements}):placement)}),[]),referenceRect=state.rects.reference,popperRect=state.rects.popper,checksMap=new Map,makeFallbackChecks=!0,firstFittingPlacement=placements[0],i=0;i<placements.length;i++){var placement=placements[i],_basePlacement=getBasePlacement(placement),isStartVariation=getVariation(placement)===start,isVertical=[enums_top,bottom].indexOf(_basePlacement)>=0,len=isVertical?"width":"height",overflow=detectOverflow(state,{placement,boundary,rootBoundary,altBoundary,padding}),mainVariationSide=isVertical?isStartVariation?right:left:isStartVariation?bottom:enums_top;referenceRect[len]>popperRect[len]&&(mainVariationSide=getOppositePlacement(mainVariationSide));var altVariationSide=getOppositePlacement(mainVariationSide),checks=[];if(checkMainAxis&&checks.push(overflow[_basePlacement]<=0),checkAltAxis&&checks.push(overflow[mainVariationSide]<=0,overflow[altVariationSide]<=0),checks.every((function(check){return check}))){firstFittingPlacement=placement,makeFallbackChecks=!1;break}checksMap.set(placement,checks)}if(makeFallbackChecks)for(var _loop=function _loop(_i){var fittingPlacement=placements.find((function(placement){var checks=checksMap.get(placement);if(checks)return checks.slice(0,_i).every((function(check){return check}))}));if(fittingPlacement)return firstFittingPlacement=fittingPlacement,"break"},_i=flipVariations?3:1;_i>0;_i--){if("break"===_loop(_i))break}state.placement!==firstFittingPlacement&&(state.modifiersData[name]._skip=!0,state.placement=firstFittingPlacement,state.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};const modifiers_offset={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function offset(_ref2){var state=_ref2.state,options=_ref2.options,name=_ref2.name,_options$offset=options.offset,offset=void 0===_options$offset?[0,0]:_options$offset,data=enums_placements.reduce((function(acc,placement){return acc[placement]=function distanceAndSkiddingToXY(placement,rects,offset){var basePlacement=getBasePlacement(placement),invertDistance=[left,enums_top].indexOf(basePlacement)>=0?-1:1,_ref="function"==typeof offset?offset(Object.assign({},rects,{placement})):offset,skidding=_ref[0],distance=_ref[1];return skidding=skidding||0,distance=(distance||0)*invertDistance,[left,right].indexOf(basePlacement)>=0?{x:distance,y:skidding}:{x:skidding,y:distance}}(placement,state.rects,offset),acc}),{}),_data$state$placement=data[state.placement],x=_data$state$placement.x,y=_data$state$placement.y;null!=state.modifiersData.popperOffsets&&(state.modifiersData.popperOffsets.x+=x,state.modifiersData.popperOffsets.y+=y),state.modifiersData[name]=data}};const modifiers_preventOverflow={name:"preventOverflow",enabled:!0,phase:"main",fn:function preventOverflow(_ref){var state=_ref.state,options=_ref.options,name=_ref.name,_options$mainAxis=options.mainAxis,checkMainAxis=void 0===_options$mainAxis||_options$mainAxis,_options$altAxis=options.altAxis,checkAltAxis=void 0!==_options$altAxis&&_options$altAxis,boundary=options.boundary,rootBoundary=options.rootBoundary,altBoundary=options.altBoundary,padding=options.padding,_options$tether=options.tether,tether=void 0===_options$tether||_options$tether,_options$tetherOffset=options.tetherOffset,tetherOffset=void 0===_options$tetherOffset?0:_options$tetherOffset,overflow=detectOverflow(state,{boundary,rootBoundary,padding,altBoundary}),basePlacement=getBasePlacement(state.placement),variation=getVariation(state.placement),isBasePlacement=!variation,mainAxis=getMainAxisFromPlacement(basePlacement),altAxis=function getAltAxis(axis){return"x"===axis?"y":"x"}(mainAxis),popperOffsets=state.modifiersData.popperOffsets,referenceRect=state.rects.reference,popperRect=state.rects.popper,tetherOffsetValue="function"==typeof tetherOffset?tetherOffset(Object.assign({},state.rects,{placement:state.placement})):tetherOffset,normalizedTetherOffsetValue="number"==typeof tetherOffsetValue?{mainAxis:tetherOffsetValue,altAxis:tetherOffsetValue}:Object.assign({mainAxis:0,altAxis:0},tetherOffsetValue),offsetModifierState=state.modifiersData.offset?state.modifiersData.offset[state.placement]:null,data={x:0,y:0};if(popperOffsets){if(checkMainAxis){var _offsetModifierState$,mainSide="y"===mainAxis?enums_top:left,altSide="y"===mainAxis?bottom:right,len="y"===mainAxis?"height":"width",offset=popperOffsets[mainAxis],min=offset+overflow[mainSide],max=offset-overflow[altSide],additive=tether?-popperRect[len]/2:0,minLen=variation===start?referenceRect[len]:popperRect[len],maxLen=variation===start?-popperRect[len]:-referenceRect[len],arrowElement=state.elements.arrow,arrowRect=tether&&arrowElement?getLayoutRect(arrowElement):{width:0,height:0},arrowPaddingObject=state.modifiersData["arrow#persistent"]?state.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},arrowPaddingMin=arrowPaddingObject[mainSide],arrowPaddingMax=arrowPaddingObject[altSide],arrowLen=within(0,referenceRect[len],arrowRect[len]),minOffset=isBasePlacement?referenceRect[len]/2-additive-arrowLen-arrowPaddingMin-normalizedTetherOffsetValue.mainAxis:minLen-arrowLen-arrowPaddingMin-normalizedTetherOffsetValue.mainAxis,maxOffset=isBasePlacement?-referenceRect[len]/2+additive+arrowLen+arrowPaddingMax+normalizedTetherOffsetValue.mainAxis:maxLen+arrowLen+arrowPaddingMax+normalizedTetherOffsetValue.mainAxis,arrowOffsetParent=state.elements.arrow&&getOffsetParent(state.elements.arrow),clientOffset=arrowOffsetParent?"y"===mainAxis?arrowOffsetParent.clientTop||0:arrowOffsetParent.clientLeft||0:0,offsetModifierValue=null!=(_offsetModifierState$=null==offsetModifierState?void 0:offsetModifierState[mainAxis])?_offsetModifierState$:0,tetherMax=offset+maxOffset-offsetModifierValue,preventedOffset=within(tether?math_min(min,offset+minOffset-offsetModifierValue-clientOffset):min,offset,tether?math_max(max,tetherMax):max);popperOffsets[mainAxis]=preventedOffset,data[mainAxis]=preventedOffset-offset}if(checkAltAxis){var _offsetModifierState$2,_mainSide="x"===mainAxis?enums_top:left,_altSide="x"===mainAxis?bottom:right,_offset=popperOffsets[altAxis],_len="y"===altAxis?"height":"width",_min=_offset+overflow[_mainSide],_max=_offset-overflow[_altSide],isOriginSide=-1!==[enums_top,left].indexOf(basePlacement),_offsetModifierValue=null!=(_offsetModifierState$2=null==offsetModifierState?void 0:offsetModifierState[altAxis])?_offsetModifierState$2:0,_tetherMin=isOriginSide?_min:_offset-referenceRect[_len]-popperRect[_len]-_offsetModifierValue+normalizedTetherOffsetValue.altAxis,_tetherMax=isOriginSide?_offset+referenceRect[_len]+popperRect[_len]-_offsetModifierValue-normalizedTetherOffsetValue.altAxis:_max,_preventedOffset=tether&&isOriginSide?function withinMaxClamp(min,value,max){var v=within(min,value,max);return v>max?max:v}(_tetherMin,_offset,_tetherMax):within(tether?_tetherMin:_min,_offset,tether?_tetherMax:_max);popperOffsets[altAxis]=_preventedOffset,data[altAxis]=_preventedOffset-_offset}state.modifiersData[name]=data}},requiresIfExists:["offset"]};function getCompositeRect(elementOrVirtualElement,offsetParent,isFixed){void 0===isFixed&&(isFixed=!1);var isOffsetParentAnElement=isHTMLElement(offsetParent),offsetParentIsScaled=isHTMLElement(offsetParent)&&function isElementScaled(element){var rect=element.getBoundingClientRect(),scaleX=round(rect.width)/element.offsetWidth||1,scaleY=round(rect.height)/element.offsetHeight||1;return 1!==scaleX||1!==scaleY}(offsetParent),documentElement=getDocumentElement(offsetParent),rect=getBoundingClientRect(elementOrVirtualElement,offsetParentIsScaled,isFixed),scroll={scrollLeft:0,scrollTop:0},offsets={x:0,y:0};return(isOffsetParentAnElement||!isOffsetParentAnElement&&!isFixed)&&(("body"!==getNodeName(offsetParent)||isScrollParent(documentElement))&&(scroll=function getNodeScroll(node){return node!==getWindow(node)&&isHTMLElement(node)?function getHTMLElementScroll(element){return{scrollLeft:element.scrollLeft,scrollTop:element.scrollTop}}(node):getWindowScroll(node)}(offsetParent)),isHTMLElement(offsetParent)?((offsets=getBoundingClientRect(offsetParent,!0)).x+=offsetParent.clientLeft,offsets.y+=offsetParent.clientTop):documentElement&&(offsets.x=getWindowScrollBarX(documentElement))),{x:rect.left+scroll.scrollLeft-offsets.x,y:rect.top+scroll.scrollTop-offsets.y,width:rect.width,height:rect.height}}function order(modifiers){var map=new Map,visited=new Set,result=[];function sort(modifier){visited.add(modifier.name),[].concat(modifier.requires||[],modifier.requiresIfExists||[]).forEach((function(dep){if(!visited.has(dep)){var depModifier=map.get(dep);depModifier&&sort(depModifier)}})),result.push(modifier)}return modifiers.forEach((function(modifier){map.set(modifier.name,modifier)})),modifiers.forEach((function(modifier){visited.has(modifier.name)||sort(modifier)})),result}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return!args.some((function(element){return!(element&&"function"==typeof element.getBoundingClientRect)}))}function popperGenerator(generatorOptions){void 0===generatorOptions&&(generatorOptions={});var _generatorOptions=generatorOptions,_generatorOptions$def=_generatorOptions.defaultModifiers,defaultModifiers=void 0===_generatorOptions$def?[]:_generatorOptions$def,_generatorOptions$def2=_generatorOptions.defaultOptions,defaultOptions=void 0===_generatorOptions$def2?DEFAULT_OPTIONS:_generatorOptions$def2;return function createPopper(reference,popper,options){void 0===options&&(options=defaultOptions);var fn,pending,state={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,defaultOptions),modifiersData:{},elements:{reference,popper},attributes:{},styles:{}},effectCleanupFns=[],isDestroyed=!1,instance={state,setOptions:function setOptions(setOptionsAction){var options="function"==typeof setOptionsAction?setOptionsAction(state.options):setOptionsAction;cleanupModifierEffects(),state.options=Object.assign({},defaultOptions,state.options,options),state.scrollParents={reference:isElement(reference)?listScrollParents(reference):reference.contextElement?listScrollParents(reference.contextElement):[],popper:listScrollParents(popper)};var orderedModifiers=function orderModifiers(modifiers){var orderedModifiers=order(modifiers);return modifierPhases.reduce((function(acc,phase){return acc.concat(orderedModifiers.filter((function(modifier){return modifier.phase===phase})))}),[])}(function mergeByName(modifiers){var merged=modifiers.reduce((function(merged,current){var existing=merged[current.name];return merged[current.name]=existing?Object.assign({},existing,current,{options:Object.assign({},existing.options,current.options),data:Object.assign({},existing.data,current.data)}):current,merged}),{});return Object.keys(merged).map((function(key){return merged[key]}))}([].concat(defaultModifiers,state.options.modifiers)));return state.orderedModifiers=orderedModifiers.filter((function(m){return m.enabled})),function runModifierEffects(){state.orderedModifiers.forEach((function(_ref){var name=_ref.name,_ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options,effect=_ref.effect;if("function"==typeof effect){var cleanupFn=effect({state,name,instance,options}),noopFn=function noopFn(){};effectCleanupFns.push(cleanupFn||noopFn)}}))}(),instance.update()},forceUpdate:function forceUpdate(){if(!isDestroyed){var _state$elements=state.elements,reference=_state$elements.reference,popper=_state$elements.popper;if(areValidElements(reference,popper)){state.rects={reference:getCompositeRect(reference,getOffsetParent(popper),"fixed"===state.options.strategy),popper:getLayoutRect(popper)},state.reset=!1,state.placement=state.options.placement,state.orderedModifiers.forEach((function(modifier){return state.modifiersData[modifier.name]=Object.assign({},modifier.data)}));for(var index=0;index<state.orderedModifiers.length;index++)if(!0!==state.reset){var _state$orderedModifie=state.orderedModifiers[index],fn=_state$orderedModifie.fn,_state$orderedModifie2=_state$orderedModifie.options,_options=void 0===_state$orderedModifie2?{}:_state$orderedModifie2,name=_state$orderedModifie.name;"function"==typeof fn&&(state=fn({state,options:_options,name,instance})||state)}else state.reset=!1,index=-1}}},update:(fn=function(){return new Promise((function(resolve){instance.forceUpdate(),resolve(state)}))},function(){return pending||(pending=new Promise((function(resolve){Promise.resolve().then((function(){pending=void 0,resolve(fn())}))}))),pending}),destroy:function destroy(){cleanupModifierEffects(),isDestroyed=!0}};if(!areValidElements(reference,popper))return instance;function cleanupModifierEffects(){effectCleanupFns.forEach((function(fn){return fn()})),effectCleanupFns=[]}return instance.setOptions(options).then((function(state){!isDestroyed&&options.onFirstUpdate&&options.onFirstUpdate(state)})),instance}}var passive={passive:!0};var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mapToStyles(_ref2){var _Object$assign2,popper=_ref2.popper,popperRect=_ref2.popperRect,placement=_ref2.placement,variation=_ref2.variation,offsets=_ref2.offsets,position=_ref2.position,gpuAcceleration=_ref2.gpuAcceleration,adaptive=_ref2.adaptive,roundOffsets=_ref2.roundOffsets,isFixed=_ref2.isFixed,_offsets$x=offsets.x,x=void 0===_offsets$x?0:_offsets$x,_offsets$y=offsets.y,y=void 0===_offsets$y?0:_offsets$y,_ref3="function"==typeof roundOffsets?roundOffsets({x,y}):{x,y};x=_ref3.x,y=_ref3.y;var hasX=offsets.hasOwnProperty("x"),hasY=offsets.hasOwnProperty("y"),sideX=left,sideY=enums_top,win=window;if(adaptive){var offsetParent=getOffsetParent(popper),heightProp="clientHeight",widthProp="clientWidth";if(offsetParent===getWindow(popper)&&"static"!==getComputedStyle_getComputedStyle(offsetParent=getDocumentElement(popper)).position&&"absolute"===position&&(heightProp="scrollHeight",widthProp="scrollWidth"),placement===enums_top||(placement===left||placement===right)&&variation===end)sideY=bottom,y-=(isFixed&&offsetParent===win&&win.visualViewport?win.visualViewport.height:offsetParent[heightProp])-popperRect.height,y*=gpuAcceleration?1:-1;if(placement===left||(placement===enums_top||placement===bottom)&&variation===end)sideX=right,x-=(isFixed&&offsetParent===win&&win.visualViewport?win.visualViewport.width:offsetParent[widthProp])-popperRect.width,x*=gpuAcceleration?1:-1}var _Object$assign,commonStyles=Object.assign({position},adaptive&&unsetSides),_ref4=!0===roundOffsets?function roundOffsetsByDPR(_ref,win){var x=_ref.x,y=_ref.y,dpr=win.devicePixelRatio||1;return{x:round(x*dpr)/dpr||0,y:round(y*dpr)/dpr||0}}({x,y},getWindow(popper)):{x,y};return x=_ref4.x,y=_ref4.y,gpuAcceleration?Object.assign({},commonStyles,((_Object$assign={})[sideY]=hasY?"0":"",_Object$assign[sideX]=hasX?"0":"",_Object$assign.transform=(win.devicePixelRatio||1)<=1?"translate("+x+"px, "+y+"px)":"translate3d("+x+"px, "+y+"px, 0)",_Object$assign)):Object.assign({},commonStyles,((_Object$assign2={})[sideY]=hasY?y+"px":"",_Object$assign2[sideX]=hasX?x+"px":"",_Object$assign2.transform="",_Object$assign2))}var defaultModifiers=[{name:"eventListeners",enabled:!0,phase:"write",fn:function fn(){},effect:function eventListeners_effect(_ref){var state=_ref.state,instance=_ref.instance,options=_ref.options,_options$scroll=options.scroll,scroll=void 0===_options$scroll||_options$scroll,_options$resize=options.resize,resize=void 0===_options$resize||_options$resize,window=getWindow(state.elements.popper),scrollParents=[].concat(state.scrollParents.reference,state.scrollParents.popper);return scroll&&scrollParents.forEach((function(scrollParent){scrollParent.addEventListener("scroll",instance.update,passive)})),resize&&window.addEventListener("resize",instance.update,passive),function(){scroll&&scrollParents.forEach((function(scrollParent){scrollParent.removeEventListener("scroll",instance.update,passive)})),resize&&window.removeEventListener("resize",instance.update,passive)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function popperOffsets(_ref){var state=_ref.state,name=_ref.name;state.modifiersData[name]=computeOffsets({reference:state.rects.reference,element:state.rects.popper,strategy:"absolute",placement:state.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function computeStyles(_ref5){var state=_ref5.state,options=_ref5.options,_options$gpuAccelerat=options.gpuAcceleration,gpuAcceleration=void 0===_options$gpuAccelerat||_options$gpuAccelerat,_options$adaptive=options.adaptive,adaptive=void 0===_options$adaptive||_options$adaptive,_options$roundOffsets=options.roundOffsets,roundOffsets=void 0===_options$roundOffsets||_options$roundOffsets,commonStyles={placement:getBasePlacement(state.placement),variation:getVariation(state.placement),popper:state.elements.popper,popperRect:state.rects.popper,gpuAcceleration,isFixed:"fixed"===state.options.strategy};null!=state.modifiersData.popperOffsets&&(state.styles.popper=Object.assign({},state.styles.popper,mapToStyles(Object.assign({},commonStyles,{offsets:state.modifiersData.popperOffsets,position:state.options.strategy,adaptive,roundOffsets})))),null!=state.modifiersData.arrow&&(state.styles.arrow=Object.assign({},state.styles.arrow,mapToStyles(Object.assign({},commonStyles,{offsets:state.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets})))),state.attributes.popper=Object.assign({},state.attributes.popper,{"data-popper-placement":state.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function applyStyles(_ref){var state=_ref.state;Object.keys(state.elements).forEach((function(name){var style=state.styles[name]||{},attributes=state.attributes[name]||{},element=state.elements[name];isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,style),Object.keys(attributes).forEach((function(name){var value=attributes[name];!1===value?element.removeAttribute(name):element.setAttribute(name,!0===value?"":value)})))}))},effect:function applyStyles_effect(_ref2){var state=_ref2.state,initialStyles={popper:{position:state.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(state.elements.popper.style,initialStyles.popper),state.styles=initialStyles,state.elements.arrow&&Object.assign(state.elements.arrow.style,initialStyles.arrow),function(){Object.keys(state.elements).forEach((function(name){var element=state.elements[name],attributes=state.attributes[name]||{},style=Object.keys(state.styles.hasOwnProperty(name)?state.styles[name]:initialStyles[name]).reduce((function(style,property){return style[property]="",style}),{});isHTMLElement(element)&&getNodeName(element)&&(Object.assign(element.style,style),Object.keys(attributes).forEach((function(attribute){element.removeAttribute(attribute)})))}))}},requires:["computeStyles"]}],lib_enums_top="top",enums_bottom="bottom",enums_right="right",enums_left="left",enums_basePlacements=[lib_enums_top,enums_bottom,enums_right,enums_left],enums_start="start",enums_end="end",enums_viewport="viewport";function getWindow_getWindow(node){if(null==node)return window;if("[object Window]"!==node.toString()){var ownerDocument=node.ownerDocument;return ownerDocument&&ownerDocument.defaultView||window}return node}function instanceOf_isElement(node){return node instanceof getWindow_getWindow(node).Element||node instanceof Element}function instanceOf_isHTMLElement(node){return node instanceof getWindow_getWindow(node).HTMLElement||node instanceof HTMLElement}function instanceOf_isShadowRoot(node){return"undefined"!=typeof ShadowRoot&&(node instanceof getWindow_getWindow(node).ShadowRoot||node instanceof ShadowRoot)}function getDocumentElement_getDocumentElement(element){return((instanceOf_isElement(element)?element.ownerDocument:element.document)||window.document).documentElement}var max=Math.max,min=Math.min,math_round=Math.round;function userAgent_getUAString(){var uaData=navigator.userAgentData;return null!=uaData&&uaData.brands&&Array.isArray(uaData.brands)?uaData.brands.map((function(item){return item.brand+"/"+item.version})).join(" "):navigator.userAgent}function isLayoutViewport_isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(userAgent_getUAString())}function getBoundingClientRect_getBoundingClientRect(element,includeScale,isFixedStrategy){void 0===includeScale&&(includeScale=!1),void 0===isFixedStrategy&&(isFixedStrategy=!1);var clientRect=element.getBoundingClientRect(),scaleX=1,scaleY=1;includeScale&&instanceOf_isHTMLElement(element)&&(scaleX=element.offsetWidth>0&&math_round(clientRect.width)/element.offsetWidth||1,scaleY=element.offsetHeight>0&&math_round(clientRect.height)/element.offsetHeight||1);var visualViewport=(instanceOf_isElement(element)?getWindow_getWindow(element):window).visualViewport,addVisualOffsets=!isLayoutViewport_isLayoutViewport()&&isFixedStrategy,x=(clientRect.left+(addVisualOffsets&&visualViewport?visualViewport.offsetLeft:0))/scaleX,y=(clientRect.top+(addVisualOffsets&&visualViewport?visualViewport.offsetTop:0))/scaleY,width=clientRect.width/scaleX,height=clientRect.height/scaleY;return{width,height,top:y,right:x+width,bottom:y+height,left:x,x,y}}function getWindowScroll_getWindowScroll(node){var win=getWindow_getWindow(node);return{scrollLeft:win.pageXOffset,scrollTop:win.pageYOffset}}function getWindowScrollBarX_getWindowScrollBarX(element){return getBoundingClientRect_getBoundingClientRect(getDocumentElement_getDocumentElement(element)).left+getWindowScroll_getWindowScroll(element).scrollLeft}function dom_utils_getComputedStyle_getComputedStyle(element){return getWindow_getWindow(element).getComputedStyle(element)}function getNodeName_getNodeName(element){return element?(element.nodeName||"").toLowerCase():null}function getParentNode_getParentNode(element){return"html"===getNodeName_getNodeName(element)?element:element.assignedSlot||element.parentNode||(instanceOf_isShadowRoot(element)?element.host:null)||getDocumentElement_getDocumentElement(element)}function isScrollParent_isScrollParent(element){var _getComputedStyle=dom_utils_getComputedStyle_getComputedStyle(element),overflow=_getComputedStyle.overflow,overflowX=_getComputedStyle.overflowX,overflowY=_getComputedStyle.overflowY;return/auto|scroll|overlay|hidden/.test(overflow+overflowY+overflowX)}function getScrollParent_getScrollParent(node){return["html","body","#document"].indexOf(getNodeName_getNodeName(node))>=0?node.ownerDocument.body:instanceOf_isHTMLElement(node)&&isScrollParent_isScrollParent(node)?node:getScrollParent_getScrollParent(getParentNode_getParentNode(node))}function listScrollParents_listScrollParents(element,list){var _element$ownerDocumen;void 0===list&&(list=[]);var scrollParent=getScrollParent_getScrollParent(element),isBody=scrollParent===(null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body),win=getWindow_getWindow(scrollParent),target=isBody?[win].concat(win.visualViewport||[],isScrollParent_isScrollParent(scrollParent)?scrollParent:[]):scrollParent,updatedList=list.concat(target);return isBody?updatedList:updatedList.concat(listScrollParents_listScrollParents(getParentNode_getParentNode(target)))}function isTableElement_isTableElement(element){return["table","td","th"].indexOf(getNodeName_getNodeName(element))>=0}function getOffsetParent_getTrueOffsetParent(element){return instanceOf_isHTMLElement(element)&&"fixed"!==dom_utils_getComputedStyle_getComputedStyle(element).position?element.offsetParent:null}function getOffsetParent_getOffsetParent(element){for(var window=getWindow_getWindow(element),offsetParent=getOffsetParent_getTrueOffsetParent(element);offsetParent&&isTableElement_isTableElement(offsetParent)&&"static"===dom_utils_getComputedStyle_getComputedStyle(offsetParent).position;)offsetParent=getOffsetParent_getTrueOffsetParent(offsetParent);return offsetParent&&("html"===getNodeName_getNodeName(offsetParent)||"body"===getNodeName_getNodeName(offsetParent)&&"static"===dom_utils_getComputedStyle_getComputedStyle(offsetParent).position)?window:offsetParent||function getOffsetParent_getContainingBlock(element){var isFirefox=/firefox/i.test(userAgent_getUAString());if(/Trident/i.test(userAgent_getUAString())&&instanceOf_isHTMLElement(element)&&"fixed"===dom_utils_getComputedStyle_getComputedStyle(element).position)return null;var currentNode=getParentNode_getParentNode(element);for(instanceOf_isShadowRoot(currentNode)&&(currentNode=currentNode.host);instanceOf_isHTMLElement(currentNode)&&["html","body"].indexOf(getNodeName_getNodeName(currentNode))<0;){var css=dom_utils_getComputedStyle_getComputedStyle(currentNode);if("none"!==css.transform||"none"!==css.perspective||"paint"===css.contain||-1!==["transform","perspective"].indexOf(css.willChange)||isFirefox&&"filter"===css.willChange||isFirefox&&css.filter&&"none"!==css.filter)return currentNode;currentNode=currentNode.parentNode}return null}(element)||window}function rectToClientRect_rectToClientRect(rect){return Object.assign({},rect,{left:rect.x,top:rect.y,right:rect.x+rect.width,bottom:rect.y+rect.height})}function getClippingRect_getClientRectFromMixedType(element,clippingParent,strategy){return clippingParent===enums_viewport?rectToClientRect_rectToClientRect(function getViewportRect_getViewportRect(element,strategy){var win=getWindow_getWindow(element),html=getDocumentElement_getDocumentElement(element),visualViewport=win.visualViewport,width=html.clientWidth,height=html.clientHeight,x=0,y=0;if(visualViewport){width=visualViewport.width,height=visualViewport.height;var layoutViewport=isLayoutViewport_isLayoutViewport();(layoutViewport||!layoutViewport&&"fixed"===strategy)&&(x=visualViewport.offsetLeft,y=visualViewport.offsetTop)}return{width,height,x:x+getWindowScrollBarX_getWindowScrollBarX(element),y}}(element,strategy)):instanceOf_isElement(clippingParent)?function getClippingRect_getInnerBoundingClientRect(element,strategy){var rect=getBoundingClientRect_getBoundingClientRect(element,!1,"fixed"===strategy);return rect.top=rect.top+element.clientTop,rect.left=rect.left+element.clientLeft,rect.bottom=rect.top+element.clientHeight,rect.right=rect.left+element.clientWidth,rect.width=element.clientWidth,rect.height=element.clientHeight,rect.x=rect.left,rect.y=rect.top,rect}(clippingParent,strategy):rectToClientRect_rectToClientRect(function getDocumentRect_getDocumentRect(element){var _element$ownerDocumen,html=getDocumentElement_getDocumentElement(element),winScroll=getWindowScroll_getWindowScroll(element),body=null==(_element$ownerDocumen=element.ownerDocument)?void 0:_element$ownerDocumen.body,width=max(html.scrollWidth,html.clientWidth,body?body.scrollWidth:0,body?body.clientWidth:0),height=max(html.scrollHeight,html.clientHeight,body?body.scrollHeight:0,body?body.clientHeight:0),x=-winScroll.scrollLeft+getWindowScrollBarX_getWindowScrollBarX(element),y=-winScroll.scrollTop;return"rtl"===dom_utils_getComputedStyle_getComputedStyle(body||html).direction&&(x+=max(html.clientWidth,body?body.clientWidth:0)-width),{width,height,x,y}}(getDocumentElement_getDocumentElement(element)))}function getClippingRect_getClippingParents(element){var clippingParents=listScrollParents_listScrollParents(getParentNode_getParentNode(element)),clipperElement=["absolute","fixed"].indexOf(dom_utils_getComputedStyle_getComputedStyle(element).position)>=0&&instanceOf_isHTMLElement(element)?getOffsetParent_getOffsetParent(element):element;return instanceOf_isElement(clipperElement)?clippingParents.filter((function(clippingParent){return instanceOf_isElement(clippingParent)&&function contains_contains(parent,child){var rootNode=child.getRootNode&&child.getRootNode();if(parent.contains(child))return!0;if(rootNode&&instanceOf_isShadowRoot(rootNode)){var next=child;do{if(next&&parent.isSameNode(next))return!0;next=next.parentNode||next.host}while(next)}return!1}(clippingParent,clipperElement)&&"body"!==getNodeName_getNodeName(clippingParent)})):[]}function detectOverflow_detectOverflow(state,options){void 0===options&&(options={});var _options=options,_options$placement=_options.placement,placement=void 0===_options$placement?state.placement:_options$placement,_options$strategy=_options.strategy,strategy=void 0===_options$strategy?state.strategy:_options$strategy,_options$boundary=_options.boundary,boundary=void 0===_options$boundary?"clippingParents":_options$boundary,_options$rootBoundary=_options.rootBoundary,rootBoundary=void 0===_options$rootBoundary?enums_viewport:_options$rootBoundary,_options$elementConte=_options.elementContext,elementContext=void 0===_options$elementConte?"popper":_options$elementConte,_options$altBoundary=_options.altBoundary,altBoundary=void 0!==_options$altBoundary&&_options$altBoundary,_options$padding=_options.padding,padding=void 0===_options$padding?0:_options$padding,paddingObject=function mergePaddingObject_mergePaddingObject(paddingObject){return Object.assign({},{top:0,right:0,bottom:0,left:0},paddingObject)}("number"!=typeof padding?padding:function expandToHashMap_expandToHashMap(value,keys){return keys.reduce((function(hashMap,key){return hashMap[key]=value,hashMap}),{})}(padding,enums_basePlacements)),altContext="popper"===elementContext?"reference":"popper",popperRect=state.rects.popper,element=state.elements[altBoundary?altContext:elementContext],clippingClientRect=function getClippingRect_getClippingRect(element,boundary,rootBoundary,strategy){var mainClippingParents="clippingParents"===boundary?getClippingRect_getClippingParents(element):[].concat(boundary),clippingParents=[].concat(mainClippingParents,[rootBoundary]),firstClippingParent=clippingParents[0],clippingRect=clippingParents.reduce((function(accRect,clippingParent){var rect=getClippingRect_getClientRectFromMixedType(element,clippingParent,strategy);return accRect.top=max(rect.top,accRect.top),accRect.right=min(rect.right,accRect.right),accRect.bottom=min(rect.bottom,accRect.bottom),accRect.left=max(rect.left,accRect.left),accRect}),getClippingRect_getClientRectFromMixedType(element,firstClippingParent,strategy));return clippingRect.width=clippingRect.right-clippingRect.left,clippingRect.height=clippingRect.bottom-clippingRect.top,clippingRect.x=clippingRect.left,clippingRect.y=clippingRect.top,clippingRect}(instanceOf_isElement(element)?element:element.contextElement||getDocumentElement_getDocumentElement(state.elements.popper),boundary,rootBoundary,strategy),referenceClientRect=getBoundingClientRect_getBoundingClientRect(state.elements.reference),popperOffsets=function computeOffsets_computeOffsets(_ref){var offsets,reference=_ref.reference,element=_ref.element,placement=_ref.placement,basePlacement=placement?function getBasePlacement_getBasePlacement(placement){return placement.split("-")[0]}(placement):null,variation=placement?function getVariation_getVariation(placement){return placement.split("-")[1]}(placement):null,commonX=reference.x+reference.width/2-element.width/2,commonY=reference.y+reference.height/2-element.height/2;switch(basePlacement){case lib_enums_top:offsets={x:commonX,y:reference.y-element.height};break;case enums_bottom:offsets={x:commonX,y:reference.y+reference.height};break;case enums_right:offsets={x:reference.x+reference.width,y:commonY};break;case enums_left:offsets={x:reference.x-element.width,y:commonY};break;default:offsets={x:reference.x,y:reference.y}}var mainAxis=basePlacement?function getMainAxisFromPlacement_getMainAxisFromPlacement(placement){return["top","bottom"].indexOf(placement)>=0?"x":"y"}(basePlacement):null;if(null!=mainAxis){var len="y"===mainAxis?"height":"width";switch(variation){case enums_start:offsets[mainAxis]=offsets[mainAxis]-(reference[len]/2-element[len]/2);break;case enums_end:offsets[mainAxis]=offsets[mainAxis]+(reference[len]/2-element[len]/2)}}return offsets}({reference:referenceClientRect,element:popperRect,strategy:"absolute",placement}),popperClientRect=rectToClientRect_rectToClientRect(Object.assign({},popperRect,popperOffsets)),elementClientRect="popper"===elementContext?popperClientRect:referenceClientRect,overflowOffsets={top:clippingClientRect.top-elementClientRect.top+paddingObject.top,bottom:elementClientRect.bottom-clippingClientRect.bottom+paddingObject.bottom,left:clippingClientRect.left-elementClientRect.left+paddingObject.left,right:elementClientRect.right-clippingClientRect.right+paddingObject.right},offsetData=state.modifiersData.offset;if("popper"===elementContext&&offsetData){var offset=offsetData[placement];Object.keys(overflowOffsets).forEach((function(key){var multiply=[enums_right,enums_bottom].indexOf(key)>=0?1:-1,axis=[lib_enums_top,enums_bottom].indexOf(key)>=0?"y":"x";overflowOffsets[key]+=offset[axis]*multiply}))}return overflowOffsets}const popper_max_size_modifier_esm={name:"maxSize",enabled:!0,phase:"main",requiresIfExists:["offset","preventOverflow","flip"],fn:function fn(_ref){var state=_ref.state,name=_ref.name,overflow=detectOverflow_detectOverflow(state,_ref.options),_ref2=state.modifiersData.preventOverflow||{x:0,y:0},x=_ref2.x,y=_ref2.y,_state$rects$popper=state.rects.popper,width=_state$rects$popper.width,height=_state$rects$popper.height,basePlacement=state.placement.split("-")[0],widthProp="left"===basePlacement?"left":"right",heightProp="top"===basePlacement?"top":"bottom";state.modifiersData[name]={width:width-overflow[widthProp]-x,height:height-overflow[heightProp]-y}}},popper_createPopper=popperGenerator({defaultModifiers:[...defaultModifiers,modifiers_flip,modifiers_preventOverflow,modifiers_arrow,modifiers_offset]}),appliedSizeDefaults=new WeakMap,applyMaxSize={name:"applyMaxSize",enabled:!0,phase:"beforeWrite",requires:["maxSize"],fn({state}){const{height:maxHeight}=state.modifiersData.maxSize;appliedSizeDefaults.has(state.elements.popper)||appliedSizeDefaults.set(state.elements.popper,state.rects.popper.height);const appliedHeight=maxHeight<appliedSizeDefaults.get(state.elements.popper)?`${maxHeight}px`:"";state.styles.popper.maxHeight=appliedHeight,state.styles.popper.height=appliedHeight}},stateMachine={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{visible:"visible",hiding:"hiding",idle:"idle"}},visible:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},stateTransition=(state,event)=>state?event&&stateMachine.states[state].on[event]||state:stateMachine.initial,parentOverlayOf=el=>{const closestOverlay=el.closest("active-overlay");if(closestOverlay)return closestOverlay;const rootNode=el.getRootNode();return rootNode.host?parentOverlayOf(rootNode.host):null};class ActiveOverlay extends SpectrumElement{constructor(){super(),this._state=stateTransition(),this.animating=!1,this.theme={},this.tabbingAway=!1,this.offset=6,this.interaction="hover",this.positionAnimationFrame=0,this.willNotifyClosed=!1,this.handleInlineTriggerKeydown=event=>{const{code,shiftKey}=event;if("Tab"===code){if(shiftKey)return this.tabbingAway=!0,void this.dispatchEvent(new Event("close"));event.stopPropagation(),event.preventDefault(),this.focus()}},this.stealOverlayContentPromise=Promise.resolve(),this.stealOverlayContentPromise=new Promise((res=>this.stealOverlayContentResolver=res))}get state(){return this._state}set state(state){const nextState=stateTransition(this.state,state);nextState!==this.state&&(this._state=nextState,"active"===this.state||"visible"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}focus(){const firstFocusable=this.querySelector('button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([tabindex="-1"]), select:not([tabindex="-1"]), textarea:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]), [focusable]:not([tabindex="-1"])');firstFocusable?firstFocusable.focus():super.focus(),this.removeAttribute("tabindex")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[active_overlay_css]}get hasModalRoot(){return!!this._modalRoot}feature(){this.tabIndex=-1;const parentOverlay=parentOverlayOf(this.trigger),parentIsModal=parentOverlay&&"open"===parentOverlay.slot;("modal"===this.interaction||parentIsModal||this._modalRoot)&&(this.slot="open",this._modalRoot&&(null==parentOverlay||parentOverlay.feature()))}obscure(nextOverlayInteraction){if(this.slot&&"modal"===nextOverlayInteraction){if(this.removeAttribute("slot"),"modal"!==this.interaction){const parentOverlay=parentOverlayOf(this.trigger);return this._modalRoot=null==parentOverlay?void 0:parentOverlay.obscure(nextOverlayInteraction),this._modalRoot}return this}}firstUpdated(changedProperties){super.firstUpdated(changedProperties),this.overlayContent&&(this.stealOverlayContent(this.overlayContent),this.overlayContent&&this.trigger&&(this.placement&&"none"!==this.placement&&(this.popper=popper_createPopper(this.virtualTrigger||this.trigger,this,{placement:this.placement,modifiers:[popper_max_size_modifier_esm,applyMaxSize,{name:"arrow",options:{element:this.overlayContentTip}},{name:"offset",options:{offset:[0,this.offset]}}]})),this.state="active",document.addEventListener("sp-update-overlays",(()=>{this.updateOverlayPosition(),this.state="visible"})),this.feature(),this.updateOverlayPosition().then((()=>this.applyContentAnimation("sp-overlay-fade-in"))).then((()=>{this.receivesFocus&&this.focus(),this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}))))}updateOverlayPopperPlacement(){"active"===this.state&&this.overlayContent&&(this.dataPopperPlacement?this.overlayContent.setAttribute("placement",this.dataPopperPlacement):this.originalPlacement?this.overlayContent.setAttribute("placement",this.originalPlacement):this.overlayContent.removeAttribute("placement"))}updated(changedProperties){changedProperties.has("dataPopperPlacement")&&this.updateOverlayPopperPlacement()}open(openDetail){this.extractDetail(openDetail)}extractDetail(detail){this.overlayContent=detail.content,this.overlayContentTip=detail.contentTip,this.trigger=detail.trigger,this.virtualTrigger=detail.virtualTrigger,this.placement=detail.placement,this.offset=detail.offset,this.interaction=detail.interaction,this.theme=detail.theme,this.receivesFocus=detail.receivesFocus}dispose(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.popper&&(this.popper.destroy(),this.popper=void 0),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1))}stealOverlayContent(element){this.originalPlacement=element.getAttribute("placement"),this.restoreContent=((srcElements,newParent,prepareCallback)=>{const placeholderItems=[],cleanupCallbacks=[];for(let index=0;index<srcElements.length;++index){const srcElement=srcElements[index];prepareCallback&&cleanupCallbacks.push(prepareCallback(srcElement)||(()=>{}));const placeholderItem=document.createComment("placeholder for reparented element");placeholderItems.push(placeholderItem);const parentElement=srcElement.parentElement||srcElement.getRootNode();parentElement&&parentElement!==srcElement&&parentElement.replaceChild(placeholderItem,srcElement),newParent.append(srcElement)}return function(){return function restoreChildren(placeholderItems,srcElements,cleanupCallbacks=[]){for(let index=0;index<srcElements.length;++index){const srcElement=srcElements[index],placeholderItem=placeholderItems[index],parentElement=placeholderItem.parentElement||placeholderItem.getRootNode();cleanupCallbacks[index]&&cleanupCallbacks[index](srcElement),parentElement&&parentElement!==placeholderItem&&parentElement.replaceChild(srcElement,placeholderItem),delete placeholderItems[index]}return srcElements}(placeholderItems,srcElements,cleanupCallbacks)}})([element],this,(el=>{const slotName=el.slot;return el.removeAttribute("slot"),el=>{el.slot=slotName}})),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[element]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(element.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}async updateOverlayPosition(){await(document.fonts?document.fonts.ready:Promise.resolve()),this.popper&&await this.popper.update()}async hide(animated=!0){this.state="hiding",animated&&await this.applyContentAnimation("sp-overlay-fade-out"),this.state="dispose"}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((()=>this.updateOverlayPosition()))}onSlotChange(){this.schedulePositionUpdate()}connectedCallback(){super.connectedCallback(),this.schedulePositionUpdate()}applyContentAnimation(animation){return new Promise((resolve=>{const contents=this.shadowRoot.querySelector("#contents"),doneHandler=event=>{animation===event.animationName&&(contents.removeEventListener("animationend",doneHandler),contents.removeEventListener("animationcancel",doneHandler),this.animating=!1,resolve("animationcancel"===event.type))};contents.addEventListener("animationend",doneHandler),contents.addEventListener("animationcancel",doneHandler),contents.style.animationName=animation,this.animating=!0}))}renderTheme(content){const{color,scale,lang}=this.theme;return lit_element.qy`
            <sp-theme
                color=${ifDefined(color)}
                scale=${ifDefined(scale)}
                lang=${ifDefined(lang)}
                part="theme"
            >
                ${content}
            </sp-theme>
        `}render(){const content=lit_element.qy`
            <div id="contents">
                <slot @slotchange=${this.onSlotChange}></slot>
            </div>
        `;return this.hasTheme?this.renderTheme(content):content}static create(details){const overlay=new ActiveOverlay;return details.content&&overlay.open(details),overlay}async _getUpdateComplete(){const complete=await super._getUpdateComplete();return await this.stealOverlayContentPromise,complete}}(0,tslib_es6.Cg)([(0,lit_element.MZ)()],ActiveOverlay.prototype,"_state",void 0),(0,tslib_es6.Cg)([(0,lit_element.MZ)({reflect:!0,type:Boolean})],ActiveOverlay.prototype,"animating",void 0),(0,tslib_es6.Cg)([(0,lit_element.MZ)({reflect:!0})],ActiveOverlay.prototype,"placement",void 0),(0,tslib_es6.Cg)([(0,lit_element.MZ)({attribute:!1})],ActiveOverlay.prototype,"theme",void 0),(0,tslib_es6.Cg)([(0,lit_element.MZ)({attribute:!1})],ActiveOverlay.prototype,"receivesFocus",void 0),(0,tslib_es6.Cg)([(0,lit_element.MZ)({attribute:"data-popper-placement"})],ActiveOverlay.prototype,"dataPopperPlacement",void 0);class OverlayTimer{constructor(options={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,options)}async openTimer(component){if(this.cancelCooldownTimer(),this.component&&component===this.component){if(this.promise)return this.promise;throw new Error("Inconsistent state")}return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=component,!this.isWarm&&(this.promise=new Promise((resolve=>{this.resolve=resolve,this.timeout=window.setTimeout((()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)}),this.warmUpDelay)})),this.promise)}close(component){this.component&&this.component===component&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((()=>{this.isWarm=!1,delete this.cooldownTimeout}),this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}customElements.define("active-overlay",ActiveOverlay);class Overlay{constructor(owner,interaction,overlayElement){this.isOpen=!1,this.owner=owner,this.overlayElement=overlayElement,this.interaction=interaction}static async open(owner,interaction,overlayElement,options){const overlay=new Overlay(owner,interaction,overlayElement);return await overlay.open(options),()=>{overlay.close()}}static update(){const overlayUpdateEvent=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(overlayUpdateEvent)}async open({abortPromise,delayed,offset=0,placement="top",receivesFocus,notImmediatelyClosable,virtualTrigger}){if(this.isOpen)return!0;void 0===delayed&&(delayed=this.overlayElement.hasAttribute("delayed"));const queryThemeDetail={color:void 0,scale:void 0,lang:void 0},queryThemeEvent=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:queryThemeDetail,cancelable:!0});this.owner.dispatchEvent(queryThemeEvent);const overlayDetailQuery={},queryOverlayDetailEvent=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:overlayDetailQuery,cancelable:!0});return this.overlayElement.dispatchEvent(queryOverlayDetailEvent),await Overlay.overlayStack.openOverlay(Object.assign({abortPromise,content:this.overlayElement,contentTip:overlayDetailQuery.overlayContentTipElement,delayed,offset,placement,trigger:this.owner,interaction:this.interaction,theme:queryThemeDetail,receivesFocus,notImmediatelyClosable,virtualTrigger},overlayDetailQuery)),this.isOpen=!0,!0}close(){Overlay.overlayStack.closeOverlay(this.overlayElement)}}Overlay.overlayStack=new class OverlayStack{constructor(){this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new OverlayTimer,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this.forwardContextmenuEvent=async event=>{if("modal"!==this.overlays[this.overlays.length-1].interaction)return;event.stopPropagation(),event.preventDefault(),await this.closeTopOverlay();let target=document.elementFromPoint(event.clientX,event.clientY);for(;null==target?void 0:target.shadowRoot;){const innerTarget=target.shadowRoot.elementFromPoint(event.clientX,event.clientY);if(!innerTarget||innerTarget===target)break;target=innerTarget}null==target||target.dispatchEvent(new MouseEvent("contextmenu",event))},this.handleMouseCapture=event=>{const topOverlay=this.topOverlay;if(event.target&&topOverlay&&topOverlay.overlayContent&&!function hasModifier(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}(event)&&function isLeftClick(event){return 0===event.button}(event)){if(event.target instanceof Node){if(event.composedPath().indexOf(topOverlay.overlayContent)>=0)return void(this.preventMouseRootClose=!0);this.preventMouseRootClose=!1}}else this.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=event=>{this._doesNotCloseOnFirstClick?this._doesNotCloseOnFirstClick=!1:this.preventMouseRootClose||event.defaultPrevented||this.closeTopOverlay()},this.handleKeyUp=event=>{"Escape"===event.code&&this.closeTopOverlay()},this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame((async()=>{const promises=this.overlays.map((overlay=>overlay.updateOverlayPosition()));await Promise.all(promises),this.handlingResize=!1})))}}initTabTrapping(){if(this.document.body.shadowRoot)return void(this.canTabTrap=!1);if(this.document.body.attachShadow({mode:"open"}),!this.document.body.shadowRoot)return;const root=this.document.body.shadowRoot;root.innerHTML='\n            <div id="actual"><slot></slot></div>\n            <style>\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                height: 100%;\n                width: 100%;\n                top: 0;\n                left: 0;\n                position: fixed;\n                pointer-events: none;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #holder[hidden] {\n                display: none !important;\n            }\n            #actual[aria-hidden] {\n                touch-action: none;\n            }\n            #actual[tabindex="-1"] ::slotted(*) {\n                pointer-events: none;  /* just in case? */\n            }\n            </style>\n            <div id="holder" hidden><slot name="open"></slot></div>\n        ',this.tabTrapper=root.querySelector("#actual"),this.overlayHolder=root.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>")}startTabTrapping(){this.trappingInited||(this.initTabTrapping(),this.trappingInited=!0),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),this.tabTrapper.setAttribute("aria-hidden","true"),this.overlayHolder.hidden=!1,requestAnimationFrame((()=>{const bodyStyles=getComputedStyle(document.body);this.tabTrapper.style.setProperty("--swc-body-margins-inline",`calc(${bodyStyles.marginLeft} + ${bodyStyles.marginRight})`),this.tabTrapper.style.setProperty("--swc-body-margins-block",`calc(${bodyStyles.marginTop} + ${bodyStyles.marginBottom})`)})))}stopTabTrapping(){this.canTabTrap&&this.trappingInited&&(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeEventListener("contextmenu",this.forwardContextmenuEvent,!0),this.tabTrapper.removeAttribute("aria-hidden"),this.overlayHolder.hidden=!0)}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(overlayContent){for(const item of this.overlays)if(overlayContent===item.overlayContent)return item}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("resize",this.handleResize))}isClickOverlayActiveForTrigger(trigger){return this.overlays.some((item=>trigger===item.trigger&&"click"===item.interaction))}async openOverlay(details){if(this.addEventListeners(),this.findOverlayForContent(details.content))return!1;details.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===details.interaction&&this.startTabTrapping();const contentWithLifecycle=details.content;if(contentWithLifecycle.overlayWillOpenCallback){const{trigger}=details;contentWithLifecycle.overlayWillOpenCallback({trigger})}if(details.delayed){const promises=[this.overlayTimer.openTimer(details.content)];details.abortPromise&&promises.push(details.abortPromise);const cancelled=await Promise.race(promises);if(cancelled){if(contentWithLifecycle.overlayOpenCancelledCallback){const{trigger}=details;contentWithLifecycle.overlayOpenCancelledCallback({trigger})}return cancelled}}if("click"===details.interaction)this.closeAllHoverOverlays();else if("hover"===details.interaction&&this.isClickOverlayActiveForTrigger(details.trigger))return!0;const activeOverlay=ActiveOverlay.create(details);if(this.overlays.length){this.overlays[this.overlays.length-1].obscure(activeOverlay.interaction)}return document.body.appendChild(activeOverlay),new Promise((res=>requestAnimationFrame(res))).then((async()=>{if(this.overlays.push(activeOverlay),await activeOverlay.updateComplete,this.addOverlayEventListeners(activeOverlay),void 0!==contentWithLifecycle.open&&(contentWithLifecycle.open=!0),contentWithLifecycle.overlayOpenCallback){const{trigger}=activeOverlay;contentWithLifecycle.overlayOpenCallback({trigger})}return"auto"===details.receivesFocus&&activeOverlay.focus(),!1}))}addOverlayEventListeners(activeOverlay){switch(activeOverlay.addEventListener("close",(()=>{this.hideAndCloseOverlay(activeOverlay)})),activeOverlay.interaction){case"replace":this.addReplaceOverlayEventListeners(activeOverlay);break;case"inline":this.addInlineOverlayEventListeners(activeOverlay)}}addReplaceOverlayEventListeners(activeOverlay){activeOverlay.addEventListener("keydown",(event=>{const{code}=event;"Tab"===code&&(event.stopPropagation(),this.closeOverlay(activeOverlay.overlayContent),activeOverlay.tabbingAway=!0,activeOverlay.trigger.focus(),activeOverlay.trigger.dispatchEvent(new KeyboardEvent("keydown",event)))}))}addInlineOverlayEventListeners(activeOverlay){activeOverlay.trigger.addEventListener("keydown",activeOverlay.handleInlineTriggerKeydown),activeOverlay.addEventListener("keydown",(event=>{const{code,shiftKey}=event;if("Tab"!==code)return;if(activeOverlay.tabbingAway=!0,shiftKey){const returnFocusElement=document.createElement("span");return returnFocusElement.tabIndex=-1,activeOverlay.trigger.hasAttribute("slot")&&(returnFocusElement.slot=activeOverlay.trigger.slot),activeOverlay.trigger.insertAdjacentElement("afterend",returnFocusElement),returnFocusElement.focus(),void returnFocusElement.remove()}event.stopPropagation();const triggerWithLifecycle=activeOverlay.trigger;void 0!==triggerWithLifecycle.open&&(triggerWithLifecycle.open=!1),this.closeOverlay(activeOverlay.overlayContent),activeOverlay.trigger.focus()}))}closeOverlay(content){this.overlayTimer.close(content),requestAnimationFrame((()=>{const overlay=this.findOverlayForContent(content);this.hideAndCloseOverlay(overlay)}))}closeAllHoverOverlays(){for(const overlay of this.overlays)"hover"===overlay.interaction&&this.hideAndCloseOverlay(overlay,!1)}manageFocusAfterCloseWhenOverlaysRemain(){const topOverlay=this.overlays[this.overlays.length-1];topOverlay.feature(),"modal"===topOverlay.interaction||topOverlay.hasModalRoot?topOverlay.focus():this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(overlay){this.stopTabTrapping();const isModal="modal"===overlay.interaction,isReplace="replace"===overlay.interaction,isInline="inline"===overlay.interaction,isTabbingAwayFromInlineOrReplace=(isReplace||isInline)&&!overlay.tabbingAway;if(overlay.tabbingAway=!1,!isModal&&!isTabbingAwayFromInlineOrReplace)return;const overlayContentActiveElement=overlay.overlayContent.getRootNode().activeElement;let triggerRoot,triggerActiveElement;(isModal||overlay.overlayContent.contains(overlayContentActiveElement)||(triggerRoot=overlay.trigger.getRootNode(),triggerActiveElement=triggerRoot.activeElement,triggerRoot.contains(triggerActiveElement))||triggerRoot.host&&triggerRoot.host===triggerActiveElement)&&overlay.trigger.focus()}async hideAndCloseOverlay(overlay,animated){if(!overlay)return;await overlay.hide(animated);const contentWithLifecycle=overlay.overlayContent;if(void 0!==contentWithLifecycle.open&&(contentWithLifecycle.open=!1),contentWithLifecycle.overlayCloseCallback){const{trigger}=overlay;contentWithLifecycle.overlayCloseCallback({trigger})}if("dispose"!=overlay.state)return;const index=this.overlays.indexOf(overlay);index>=0&&this.overlays.splice(index,1),this.overlays.length?this.manageFocusAfterCloseWhenOverlaysRemain():this.manageFocusAfterCloseWhenLastOverlay(overlay),overlay.remove(),overlay.dispose(),overlay.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:overlay.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay)}}}}]);
//# sourceMappingURL=5.2cf9108d.iframe.bundle.js.map